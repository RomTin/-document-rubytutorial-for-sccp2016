## 3.1 色々な型

Rubyは純粋なオブジェクト指向型のプログラミング言語なので、プログラム内で扱う値の全てがオブジェクト(オブジェクトについては6章)である。
C言語にはint型、float型、char型などの型が存在して、Rubyにもそれらに相当する型(クラス)が存在する。ここではその一部を紹介する。

### Fixnum

Fixnumクラスは整数値を扱う型である。扱える数字の大きさは環境にもよるが、ほとんどの環境では(2^31)-1から-(2^31)までの整数値を扱うことができる。

```shell
# Example
irb(main):001:0> 1
=> 1
irb(main):002:0> 900
=> 900
irb(main):003:0> -1234
=> -1234
```

Fixnumには整数値の演算をするためのメソッドが多数定義されている(Rubyでは演算子もメソッド。メソッドについては5章)。

- 四則演算メソッド

```ruby
p 1 + 2
#=> 3

p 80 - 90
#=> -10

p 5 * 4
#=> 20

p 8 / 5
#=> 1 (小数点以下は切り捨て)
```

- 比較演算メソッド

```ruby
p 1 > 2
#=> false

p 50 >= 50
#=> true

p 8 < 9
#=> true

p 0 <= -3
#=> false

p 20 == 20
#=> true
```

- ビット演算メソッド

```ruby
# OR
p 2 | 5 # 010 | 101
#=> 7 (111)

# AND
p 6 & 5 # 110 & 101
#=> 4 (100)

# XOR
p 5 ^ 3 # 101 ^ 011
#=> 6 (110)

# 左ビットシフト
p 2 << 2
#=> 8

# 右ビットシフト
p 4 >> 1
#=> 2
```

- その他のメソッド

```ruby
# 絶対値
p -30.abs
#=> 30

# 累乗
p 6 ** 3
#=> 216

# 剰余
p 11 % 5
#=> 1
```

### Bignum

Fixnum型はある程度の上限があったが、Bignum型はほぼメモリの許す限り大きな整数を扱うことができる。Rubyは動的型付け言語なのでFixnumとBignumは実行時に自動的に決まるので特にコーディング時に使い分けをする必要はない。
また、BignumにもFixnumと同じメソッドが定義されているので、同様の計算を行うことができる。

### Float

Floatクラスは浮動小数点数を扱う型である。Floatという名前だが実装はC言語のdoubleで、その精度は環境に依存する。
Fixnumと同じメソッドに加えて小数点数ならではのメソッドがいくつか定義されている。

```ruby
# 自分と等しいかそれ以上の値を持つ整数を返す
p 1.1.ceil
#=> 2

# ∞または-∞の時にtrueを返す
p (1.0/0).infinite?
#=> true (数学的には微妙な判定)

# 四捨五入した結果を返す
p 3.14.round
#=> 3
```

### String

String型は文字列を扱う型である。文字列リテラル("ruby"や'ruby'など、クォーテーションで囲われた文字列)を記述すると自動的にString型として扱われる。C言語では文字列を文字の配列を使って表現したが、RubyのString型は文字の配列とは別物である。
String型には以下のようなメソッドが定義されている。

```ruby
# 文字列の連結をする
p 'Hello, ' + ' world!'
#=> "Hello, world!"

# 文字列が一致すればtrue
p 'ruby' == 'ruby'
#=> true

# 文字列の長さを返す
p 'ruby'.size
#=> 4

# 部分文字列を取り出す
p 'ruby is a powerful language'[12]
#=> "o" (文字数が１の文字列)

# 文字数を指定した部分文字列の取り出し
p 'ruby is a powerful language'[12, 4]
#=> "ower"

# 文字列を分割する
p 'ruby is a powerful language'.split(' ')
#=> ["ruby", "is", "a", "powerful", "language"]
```

Rubyは動的型付けの言語なので、実行するまで値(オブジェクト)の型は決まらないが、実行時に値に*.class*をつけてその値の型を参照することができる。

```ruby
p 1.class
#=> Fixnum

p 9999999999999999999999999.class
#=> Bignum

p 3.6.class
#=> Float

p "ruby".class
#=> String
```